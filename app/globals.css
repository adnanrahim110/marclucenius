@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  --font-serif: var(--font-cormorant), var(--font-playfair-display), serif;
  --font-sans: var(--font-lato), sans-serif;
  --font-script: var(--font-great-vibes), cursive;

  --color-cream-50: #FDFCFA;
  --color-cream-100: #FBF9F5;
  --color-cream-200: #F7F3EC;
  --color-cream-300: #EFE9DD;
  --color-cream-400: #E3D9C8;
  --color-cream-500: #D4C7B0;

  --color-charcoal-50: #F5F5F5;
  --color-charcoal-100: #E0DFDD;
  --color-charcoal-200: #C1BFBB;
  --color-charcoal-300: #9E9A94;
  --color-charcoal-400: #7A766F;
  --color-charcoal-500: #5C5850;
  --color-charcoal-600: #4A4640;
  --color-charcoal-700: #3D3A35;
  --color-charcoal-800: #2E2B27;
  --color-charcoal-900: #1F1D1A;
  --color-charcoal-950: #0F0E0D;

  --color-earth-50: #FAF8F5;
  --color-earth-100: #F2EDE5;
  --color-earth-200: #E5D9C8;
  --color-earth-300: #D4C0A3;
  --color-earth-400: #C2A67E;
  --color-earth-500: #A88A5B;
  --color-earth-600: #8B6F47;
  --color-earth-700: #6E573A;
  --color-earth-800: #574530;
  --color-earth-900: #463828;
  --color-earth-950: #2A2118;

  --color-primary-50: var(--color-cream-50);
  --color-primary-100: var(--color-cream-100);
  --color-primary-200: var(--color-cream-200);
  --color-primary-300: var(--color-cream-300);
  --color-primary-400: var(--color-charcoal-400);
  --color-primary-500: var(--color-charcoal-500);
  --color-primary-600: var(--color-charcoal-600);
  --color-primary-700: var(--color-charcoal-700);
  --color-primary-800: var(--color-charcoal-800);
  --color-primary-900: var(--color-charcoal-900);
  --color-primary-950: var(--color-charcoal-950);

  --color-accent-50: var(--color-earth-50);
  --color-accent-100: var(--color-earth-100);
  --color-accent-200: var(--color-earth-200);
  --color-accent-300: var(--color-earth-300);
  --color-accent-400: var(--color-earth-400);
  --color-accent-500: var(--color-earth-500);
  --color-accent-600: var(--color-earth-600);
  --color-accent-700: var(--color-earth-700);
  --color-accent-800: var(--color-earth-800);
  --color-accent-900: var(--color-earth-900);
  --color-accent-950: var(--color-earth-950);

  --animate-float: float 6s ease-in-out infinite;
  --animate-float-delayed: float 6s ease-in-out 3s infinite;
  --animate-pulse-slow: pulse-slow 8s ease-in-out infinite;
  --animate-fade-in-up: fadeInUp 0.8s ease-out forwards;
  --animate-fade-in: fadeIn 1s ease-out forwards;
  --animate-sheen: sheen 900ms ease-out forwards;

  @keyframes float {

    0%,
    100% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-15px);
    }
  }

  @keyframes pulse-slow {

    0%,
    100% {
      opacity: 0.6;
      transform: scale(1);
    }

    50% {
      opacity: 0.9;
      transform: scale(1.02);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(25px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes sheen {
    0% {
      transform: translateX(-140%) skewX(-18deg);
      opacity: 0;
    }

    20% {
      opacity: 0.9;
    }

    100% {
      transform: translateX(220%) skewX(-18deg);
      opacity: 0;
    }
  }
}

@layer base {
  * {
    @apply box-border;
  }

  :root {
    --cursor-x: 50vw;
    --cursor-y: 30vh;
    --cursor-nx: 0;
    --cursor-ny: 0;
    --cursor-glow-size: 1100px;
  }

  @media (min-width: 1024px) {
    :root {
      --cursor-glow-size: 1300px;
    }
  }

  body {
    @apply bg-cream-100 text-charcoal-800 font-sans antialiased overflow-x-hidden selection:bg-earth-500 selection:text-cream-100;
  }

  html {
    @apply scroll-smooth;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-serif leading-tight font-semibold text-charcoal-900;
  }

  h1 {
    @apply text-5xl md:text-7xl lg:text-8xl tracking-tight;
  }

  h2 {
    @apply text-3xl md:text-5xl tracking-wide mb-6;
  }

  h3 {
    @apply text-2xl md:text-3xl;
  }

  p {
    @apply text-lg leading-relaxed text-charcoal-600 font-light;
  }

  .bg-paper {
    @apply bg-cream-100;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E");
  }

  .text-gradient-warm {
    @apply bg-clip-text text-transparent bg-linear-to-r from-earth-600 via-earth-500 to-earth-700;
  }

  .text-gradient-charcoal {
    @apply bg-clip-text text-transparent bg-linear-to-r from-charcoal-700 via-charcoal-900 to-charcoal-700;
  }

  .paper-card {
    @apply bg-cream-50 border border-cream-400/30 shadow-lg shadow-charcoal-900/5 rounded-lg relative overflow-hidden;
  }

  .paper-card-elevated {
    @apply bg-cream-50 border border-cream-300 shadow-xl shadow-charcoal-900/10 rounded-xl relative overflow-hidden;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center px-8 py-4 bg-charcoal-900 text-cream-100 font-semibold uppercase tracking-widest text-sm rounded-sm transition-all duration-300 shadow-md shadow-charcoal-900/10 hover:bg-charcoal-800 hover:shadow-lg hover:shadow-charcoal-900/15 active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-earth-500/50 focus-visible:ring-offset-2 focus-visible:ring-offset-cream-100;
    position: relative;
    overflow: hidden;
  }

  .btn-outline {
    @apply inline-flex items-center justify-center px-8 py-4 border-2 border-charcoal-800 text-charcoal-800 font-semibold uppercase tracking-widest text-sm rounded-sm transition-all duration-300 hover:bg-charcoal-900 hover:text-cream-100 active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-earth-500/50 focus-visible:ring-offset-2 focus-visible:ring-offset-cream-100;
    position: relative;
    overflow: hidden;
  }

  .btn-subtle {
    @apply inline-flex items-center justify-center px-6 py-3 bg-cream-200 text-charcoal-700 font-medium text-sm rounded transition-all duration-300 hover:bg-cream-300 hover:shadow-md hover:shadow-charcoal-900/5 active:scale-[0.99] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-earth-500/40 focus-visible:ring-offset-2 focus-visible:ring-offset-cream-100;
    position: relative;
    overflow: hidden;
  }

  .btn-primary::after,
  .btn-outline::after,
  .btn-subtle::after {
    content: "";
    position: absolute;
    inset: -2px;
    width: 40%;
    left: -50%;
    background: linear-gradient(90deg,
        transparent,
        rgba(255, 255, 255, 0.32),
        transparent);
    transform: translateX(-140%) skewX(-18deg);
    opacity: 0;
    pointer-events: none;
  }

  .btn-primary:hover::after,
  .btn-outline:hover::after,
  .btn-subtle:hover::after {
    animation: var(--animate-sheen);
  }

  @media (prefers-reduced-motion: reduce) {

    .btn-primary:hover::after,
    .btn-outline:hover::after,
    .btn-subtle:hover::after {
      animation: none;
      opacity: 0;
    }
  }

  .divider-line {
    @apply h-px bg-linear-to-r from-transparent via-charcoal-300 to-transparent;
  }

  .sketch-border {
    @apply border-2 border-charcoal-900 border-dashed;
  }

  .section-padding {
    @apply py-20 md:py-28 lg:py-32 px-6;
  }

  .bg-mesh-warm {
    background-image:
      radial-gradient(1000px 500px at 20% 0%, rgba(168, 138, 91, 0.18), transparent 55%),
      radial-gradient(900px 520px at 85% 10%, rgba(92, 88, 80, 0.12), transparent 60%),
      radial-gradient(900px 700px at 50% 100%, rgba(227, 217, 200, 0.35), transparent 60%);
  }

  .bg-mesh-ink {
    background-image:
      radial-gradient(1200px 600px at 10% 10%, rgba(168, 138, 91, 0.18), transparent 55%),
      radial-gradient(900px 520px at 95% 0%, rgba(212, 192, 163, 0.12), transparent 60%),
      radial-gradient(900px 700px at 50% 110%, rgba(0, 0, 0, 0.28), transparent 65%);
  }

  .mask-fade-y {
    mask-image: linear-gradient(to bottom, transparent, black 12%, black 88%, transparent);
  }

  /* Parallax helpers (uses CursorGlow CSS variables) */
  .parallax-soft {
    translate: calc(var(--cursor-nx, 0) * 10px) calc(var(--cursor-ny, 0) * 8px);
  }

  .parallax-strong {
    translate: calc(var(--cursor-nx, 0) * -16px) calc(var(--cursor-ny, 0) * -12px);
  }

  @media (prefers-reduced-motion: reduce), (pointer: coarse) {
    .parallax-soft,
    .parallax-strong {
      translate: 0 0;
    }
  }

  /* Scroll reveal (powered by ScrollReveals) */
  [data-reveal] {
    opacity: 0;
    transform: translate3d(0, 14px, 0);
    transition: transform 800ms cubic-bezier(0.2, 0.9, 0.2, 1),
      opacity 800ms cubic-bezier(0.2, 0.9, 0.2, 1);
    transition-delay: var(--reveal-delay, 0ms);
    will-change: transform, opacity;
  }

  [data-reveal].is-revealed {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  @media (prefers-reduced-motion: reduce) {
    [data-reveal] {
      opacity: 1;
      transform: none;
      transition: none;
    }
  }

  /* Textured backgrounds for alternating (odd) sections */
  .odd-sections-textured > section:nth-child(odd) {
    position: relative;
    isolation: isolate;
  }

  .odd-sections-textured > section:nth-child(odd)::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 1;
    opacity: 0.48;
    background-image:
      url("data:image/svg+xml,%3Csvg viewBox='0 0 220 220' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.28'/%3E%3C/svg%3E"),
      repeating-linear-gradient(0deg, rgba(92, 88, 80, 0.065) 0px, rgba(92, 88, 80, 0.065) 1px, transparent 1px, transparent 28px),
      repeating-linear-gradient(90deg, rgba(92, 88, 80, 0.05) 0px, rgba(92, 88, 80, 0.05) 1px, transparent 1px, transparent 28px),
      radial-gradient(900px 360px at 15% 0%, rgba(168, 138, 91, 0.14), transparent 65%);
    -webkit-mask-image: radial-gradient(circle at 50% 35%, black 55%, transparent 100%);
    mask-image: radial-gradient(circle at 50% 35%, black 55%, transparent 100%);
  }

  @keyframes grain-pan {
    0% {
      transform: translate3d(0, 0, 0);
    }
    25% {
      transform: translate3d(-1.25%, -0.75%, 0);
    }
    50% {
      transform: translate3d(-0.5%, 1%, 0);
    }
    75% {
      transform: translate3d(1%, 0.25%, 0);
    }
    100% {
      transform: translate3d(0, 0, 0);
    }
  }

  .odd-sections-textured > section:nth-child(odd)::after {
    will-change: transform;
  }

  @media (prefers-reduced-motion: no-preference) and (pointer: fine) {
    .odd-sections-textured > section:nth-child(odd)::after {
      animation: grain-pan 26s linear infinite;
    }
  }

  .odd-sections-textured>section:nth-child(odd).bg-primary-950::after,
  .odd-sections-textured>section:nth-child(odd).bg-primary-900::after {
    opacity: 0.34;
    background-image:
      url("data:image/svg+xml,%3Csvg viewBox='0 0 220 220' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.22'/%3E%3C/svg%3E"),
      repeating-linear-gradient(0deg, rgba(252, 252, 250, 0.06) 0px, rgba(252, 252, 250, 0.06) 1px, transparent 1px, transparent 30px),
      repeating-linear-gradient(90deg, rgba(168, 138, 91, 0.08) 0px, rgba(168, 138, 91, 0.08) 1px, transparent 1px, transparent 30px),
      radial-gradient(900px 420px at 50% -10%, rgba(168, 138, 91, 0.16), transparent 60%);
    -webkit-mask-image: radial-gradient(circle at 50% 28%, black 60%, transparent 100%);
    mask-image: radial-gradient(circle at 50% 28%, black 60%, transparent 100%);
  }

  .prose {
    --tw-prose-body: var(--color-charcoal-600);
    --tw-prose-headings: var(--color-charcoal-900);
    --tw-prose-links: var(--color-earth-700);
    --tw-prose-bold: var(--color-charcoal-900);
    --tw-prose-quotes: var(--color-charcoal-800);
    --tw-prose-quote-borders: rgba(194, 166, 126, 0.7);
    --tw-prose-counters: rgba(122, 118, 111, 0.85);
    --tw-prose-bullets: rgba(122, 118, 111, 0.8);
    --tw-prose-hr: rgba(193, 191, 187, 0.65);
    --tw-prose-th-borders: rgba(193, 191, 187, 0.6);
    --tw-prose-td-borders: rgba(193, 191, 187, 0.45);
  }

  .prose a {
    text-decoration-thickness: 1px;
    text-underline-offset: 3px;
  }

  .prose blockquote {
    position: relative;
  }

  .prose blockquote::before {
    content: "";
    position: absolute;
    left: -0.1rem;
    top: 0.2rem;
    bottom: 0.2rem;
    width: 2px;
    background: linear-gradient(to bottom, rgba(168, 138, 91, 0.75), transparent);
    opacity: 0.9;
  }
}
